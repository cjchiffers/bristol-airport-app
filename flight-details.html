<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flight Details</title>
  <link rel="stylesheet" href="styles.css" />
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, proxy-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>
</head>

<body>
  <header class="app-header">
    <div class="brand">
      <img src="assets/bristol-logo.png" alt="Bristol Airport" onerror="this.style.display='none';" />
      <div>
        <h1>Flight Details</h1>
        <span class="sub">Live status, gates, terminals & timeline</span>
      </div>
    </div>
    <div class="header-actions">
      <button class="btn ghost" id="backBtn">Back</button>
      <button class="btn ghost" id="compactBtn" type="button">Focus mode</button>
      <button class="btn" id="groupBtn" type="button">Group mode</button>
      <button class="btn" id="shareBtn" type="button">Share</button>
      <button class="btn" id="calendarBtn" type="button">Add to calendar</button>
      <button class="btn primary" id="notifyBtn" type="button">Notify me</button>
      <button class="btn" id="refreshBtn">Refresh</button>
      <button class="btn primary" id="autoBtn" aria-pressed="true">Auto-refresh: On</button>
    </div>
  </header>

  
  <main class="container">
    <div class="page-title">
      <div>
        <h2 id="headline">Loading…</h2>
        <div class="small" id="subhead">—</div>
      </div>
      <div class="meta">
        <span id="lastUpdated">—</span>
        <span> • </span>
        <span id="sourceLine">—</span>
      </div>
    </div>

    <div class="grid two">
      <section class="card pad">
        <div class="section-title">
          <h3>At a glance</h3>
          <span id="statusBadge" class="badge neutral">—</span>
        </div>

        <div class="hero">
          <div class="airline">
            <img id="airlineLogo" class="airline-logo xl" alt="" />
            <div>
              <div class="hero-title" id="airlineName">—</div>
              <div class="small" id="airlineCodeLine">—</div>
            </div>
          </div>

          <div class="aircraft">
            <div class="hero-title" id="aircraftType">—</div>
            <div class="small" id="aircraftReg">—</div>
          </div>
        </div>

        <div class="aircraft-image-wrap" id="aircraftImageWrap" style="display:none;">
          <img id="aircraftImage" class="aircraft-image" alt="Aircraft" />
          <div class="small" id="aircraftImageCredit"></div>
        </div>

        <div style="height:10px"></div>
        <div class="kpis" id="kpis"></div>

        <div class="leave-card" id="leaveCard"></div>
        <div class="small" id="inboundLinkLine" style="margin-top:8px;"></div>

        <div style="height:14px"></div>

        
        <div style="height:14px"></div>
        <div style="height:14px"></div>

        <div class="section-title"><h3>Today’s checklist</h3><span class="small">Plain-English updates</span></div>
        <div class="callout" id="nudges"></div>

        <div style="height:14px"></div>
<div class="section-title"><h3>Destination weather</h3><span class="small" id="wxHint">Bristol & destination</span></div>
        <div class="callout" id="weatherBox"></div>

        <div style="height:14px"></div>

        <div class="section-title"><h3>Bristol tips</h3><span class="small">What helps most on the day</span></div>
        <div class="callout" id="tipsBox"></div>

        <div style="height:14px"></div>
<div class="section-title"><h3>Departure</h3></div>
        <div class="kv" id="depKv"></div>

        <div style="height:10px"></div>

        <div class="section-title"><h3>Arrival</h3></div>
        <div class="kv" id="arrKv"></div>
      </section>

      <aside class="card pad">
        <div class="section-title">
          <h3>Route map</h3>
          <span class="small" id="mapHint">Origin and destination</span>
        </div>

        <div id="map" class="map"></div>

        <details class="raw">
          <summary>Raw JSON</summary>
          <pre id="rawJson"></pre>
        </details>
      </aside>
    </div>
  </main>


  <script src="flight-details.js"></script>

  <div class="modal-backdrop" id="groupModal" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Group mode">
      <div class="modal-head">
        <div>
          <div class="hero-title" id="groupTitle">—</div>
          <div class="small" id="groupSubtitle">—</div>
        </div>
        <div style="display:flex; gap:8px; align-items:center;">
          <button class="btn" id="groupShareBtn" type="button">Share</button>
          <button class="btn ghost" id="groupCloseBtn" type="button">Close</button>
        </div>
      </div>
      <div class="modal-body">
        <div class="countdown-big" id="groupCountdown">—</div>
        <div class="countdown-sub" id="groupNext">—</div>
        <div class="pills-row" id="groupPills"></div>
        <div class="small" style="margin-top:12px;">Tip: add this app to your home screen for an app-like experience.</div>
      </div>
    </div>
  </div>
</body>
</html>
